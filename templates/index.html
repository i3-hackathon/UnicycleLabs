<!doctype html>
<html>
<head>
  <title>Car Share Now</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="//maps.googleapis.com/maps/api/js?libraries=places"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.27/angular.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.11.0/ui-bootstrap-tpls.min.js"></script>
  <script src="/static/js/script.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="/static/css/style.css"/>
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700|Roboto:300,400,700' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1, user-scalable=no"/>  
  <link rel="shortcut icon" href="/static/img/favicon.png"/>
</head>
<body ng-controller="RootCtrl">
  <div class="search-form" ng-controller="SearchFormCtrl">
    <div class="form-group location-input-group">
      <label for="location-input">Location</label>
      <input type="text" class="form-control"
        htd-google-place-autocomplete
        on-place-change="placeChanged($newPlace)"
        ng-model="form.rawLocation" id="location-input"
        ng-focus="locationInputFocused()"/>
      <div class="location-spinner" ng-show="gettingCurrentLocation">
        <img src="/static/img/spinner-small.gif"/>
      </div>
    </div>
    <div class="form-group">
      <label>Start time</label>
      <timepicker ng-model="form.startTime" minute-step="30">
      </timepicker>
    </div>
    <div class="form-group">
      <label>End time</label>
      <timepicker ng-model="form.endTime" minute-step="30">
      </timepicker>
    </div>
    <button class="btn btn-default" ng-click="submit()" ng-disabled="searching">
      Search
    </button>
    <div class="search-spinner" ng-show="searching">
      <img src="/static/img/spinner-small.gif"/>
    </div>
  </div>

  <div class="container" id="vehicle-results-container">
    <div class="row">
      <div class="vehicle-results" ng-controller="VehicleResultsCtrl"
        ng-if="appState.hasVehicleResults()">
        <div ng-repeat="result in appState.vehicleResults">
          <div class="vehicle-result col-xs-12">
            <div class="col-xs-8 vehicle-result-left padding-10">
              <img class="vehicle-result-img" ng-src="[[result['image_url'] ]]"/>
              <div class="vehicle-result-make-model">
                [[result['make'] ]] [[result['model'] ]]
              </div>
              <img class="vehicle-result-service-provider-img" ng-src="static/img/drivenow-logo.png"/>
              <div class="vehicle-result-booking-details">
                GetAround Instant Book, Requires Zipcar Membership
              </div>
              <div class="vehicle-result-metadata-preview">
                "Kate", Ice Blue, what a ride
              </div> 
            </div>
            <div class="col-xs-4 vehicle-result-right padding-10">
              <div class="vehicle-result-price">
                $[[result['price_total'] ]]
              </div>
              <div class="vehicle-result-distance">
                0.2 mi.
              </div>
              <div class="vehicle-result-price-details">
                [[result['price_details'] ]]
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    initApp();
  </script>
</body>
</html>
